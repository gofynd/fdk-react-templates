!function webpackUniversalModuleDefinition(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("fdk-core/utils"),require("react"),require("react-router-dom")):"function"==typeof define&&define.amd?define("firestone",["fdk-core/utils","react","react-router-dom"],n):"object"==typeof exports?exports.firestone=n(require("fdk-core/utils"),require("react"),require("react-router-dom")):e.firestone=n(e["fdk-core/utils"],e.react,e["react-router-dom"])}("undefined"!=typeof self?self:this,((e,n,t)=>(()=>{"use strict";var r={4429:(e,n,t)=>{t.d(n,{Ll:()=>updateGraphQueryWithValue});function updateGraphQueryWithValue(e,n){return e&&n&&Array.isArray(n)?(n.forEach((n=>{const[t,r]=n;t&&r?e=e.split(t).join(r):console.error("Invalid replacement format. Each replacement should be an array [$search, replaceWith].")})),e):(console.error("Invalid input. Please provide a valid main string and an array of replacements."),e)}},438:(e,n,t)=>{t.d(n,{O:()=>r});const r='query Products {\n  products(first: 12, sortOn: $sortOn, pageNo: $pageNo, pageType: $pageType,filterQuery: $filterQuery, search: ""){\n    filters\n    sortOn\n    page {\n      current\n      next_id\n      has_previous\n      has_next\n      item_total\n      type\n      size\n    }\n    items {\n      brand {\n        custom_config\n        banners {\n          landscape {\n            alt\n            type\n            url\n          }\n          portrait {\n            alt\n            type\n            url\n          }\n        }\n        description\n        logo {\n          alt\n          type\n          url\n        }\n        name\n        uid\n        departments\n        discount\n        slug\n      }\n      color\n      item_code\n      item_type\n      has_variant\n      uid\n      grouped_attributes {\n        title\n        details {\n          key\n          type\n          value\n        }\n      }\n      attributes\n      custom_config\n      media {\n        alt\n        meta {\n          source\n        }\n        type\n        url\n      }\n      sizes {\n        slug\n        discount\n        multi_size\n        sellable\n        size_chart {\n          description\n          headers {\n            col_1 {\n              convertable\n              value\n            }\n            col_2 {\n              convertable\n              value\n            }\n            col_3 {\n              convertable\n              value\n            }\n            col_4 {\n              convertable\n              value\n            }\n            col_5 {\n              convertable\n              value\n            }\n            col_6 {\n              convertable\n              value\n            }\n          }\n          image\n          size_tip\n          sizes {\n            col_1\n            col_2\n            col_3\n            col_4\n            col_5\n            col_6\n          }\n          title\n          unit\n        }\n        size_details {\n          dimension {\n            height\n            is_default\n            length\n            unit\n            width\n          }\n          display\n          is_available\n          quantity\n          seller_identifiers\n          value\n          weight {\n            is_default\n            shipping\n            unit\n          }\n        }\n        stores {\n          count\n        }\n      }\n      custom_order {\n        is_custom_order\n        manufacturing_time\n        manufacturing_time_unit\n      }\n      custom_meta {\n        key\n        value\n      }\n      description\n      discount\n      highlights\n      image_nature\n      is_dependent\n      moq {\n        increment_unit\n        maximum\n        minimum\n      }\n      name\n      net_quantity {\n        unit\n        value\n      }\n      price {\n        effective {\n          currency_code\n          currency_symbol\n          max\n          min\n        }\n        marked {\n          currency_code\n          currency_symbol\n          max\n          min\n        }\n      }\n      product_group_tag\n      product_online_date\n      rating\n      rating_count\n      seo {\n        description\n        title\n      }\n      short_description\n      similars\n      slug\n      tags\n      teaser_tag\n      tryouts\n      type\n      variants {\n        display_type\n        header\n        items {\n          _custom_meta {\n            key\n            value\n          }\n          color\n          color_name\n          is_available\n          medias {\n            alt\n            type\n            url\n          }\n          name\n          slug\n          uid\n          value\n        }\n        key\n        total\n      }\n      action {\n        page {\n          params\n          query\n          type\n          url\n        }\n        type\n      }\n      categories {\n        description\n        name\n        uid\n      }\n      category_map {\n        l1 {\n          description\n          name\n          uid\n        }\n        l2 {\n          description\n          name\n          uid\n        }\n        l3 {\n          description\n          name\n          uid\n        }\n      }\n      sellable\n    }\n    message\n  }\n}'},447:n=>{n.exports=e},9155:e=>{e.exports=n},4442:e=>{e.exports=t}},a={};function __webpack_require__(e){var n=a[e];if(void 0!==n)return n.exports;var t=a[e]={exports:{}};return r[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{__webpack_require__.r(o),__webpack_require__.d(o,{default:()=>plp_useProductListing});var e=__webpack_require__(9155),n=__webpack_require__(447),t=__webpack_require__(4442);const r={page_no:!0};var a=__webpack_require__(4429),i=__webpack_require__(438);const plp_useProductListing=o=>{const s=(0,n.useGlobalStore)(o.getters.THEME),u=(0,n.useGlobalStore)(o.getters.CONFIGURATION),l=u?.app_features?.common?.listing_price?.value||"range",c=s?.config?.list.find((e=>e.name===s?.config?.current)),_=c?.global_config?.custom?.props,p=c?.page?.find((e=>"product-listing"===e.page))?.settings?.props||{},d=(0,t.useLocation)(),[m,g]=(0,e.useState)(new URLSearchParams(d.search)),[f,y]=(0,e.useState)(""),[h,b]=(0,e.useState)(!1);(0,e.useEffect)((()=>{let e=new URLSearchParams(d.search);g(e),m.has("page_no")&&S(parseInt(e.get("page_no")))}),[d.search]);const[v,$]=(0,e.useState)((()=>{const e={};return m?.forEach(((n,t)=>{r[t]||(e[t]&&!e[t][n]?e[t][n]=!0:e[t]||(e[t]={},e[t][n]=!0))})),e})),[q,k]=(0,e.useState)((()=>m.get("sort_on")??null)),[w,S]=(0,e.useState)((()=>m.get("page_no")??1)),[x,O]=(0,e.useState)({});(0,t.useNavigate)();let P=(0,n.useGlobalStore)(o?.getters?.PRODUCTS);(0,e.useEffect)((()=>{const e=[["$pageNo",`${w}`],["$pageType",'"number"']];null!==q?e.push(["$sortOn",`"${q}"`]):e.push(["$sortOn",'""']),f.length?e.push(["$filterQuery",`"${f}"`]):e.push(["$filterQuery",'""']),o.executeGraphQL((0,a.Ll)(i.O,e)).then((e=>{b(!1)})),b(!1)}),[q,w]),(0,e.useEffect)((()=>{new URLSearchParams(d.search).set("page_no","1"),S(1);const e=[["$pageNo","1"],["$pageType",'"number"']];null!==q?e.push(["$sortOn",`"${q}"`]):e.push(["$sortOn",'""']),f.length?e.push(["$filterQuery",`"${f}"`]):e.push(["$filterQuery",'""']),o.executeGraphQL((0,a.Ll)(i.O,e)).then((e=>{b(!1)}))}),[f]);return{product_lists:P,selectedfilters:v,pageNo:w,currentSort:q,updateSelectedFilters:()=>{let e=function appendDelimiter(e){const n=new URLSearchParams(e),t=Array.from(n.entries());if(1===t.length){const[e,n]=t[0];return"page_no"!==e&&"sort_on"!==e?`${e}:${n}`:""}return t.map(((e,n)=>{let[r,a]=e;if("page_no"!==r&&"sort_on"!==r)return n===t.length-1?`${r}:${a}`:`${r}:${a}:::`})).join("")}(window.location.search);y(e)},setPageNo:S,setCurrentSort:k,globalConfig:_,pageConfig:p,listing_price:l,pageData:x,apiLoading:h}}})(),o})()));
!function webpackUniversalModuleDefinition(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define("firestone",["react"],r):"object"==typeof exports?exports.firestone=r(require("react")):e.firestone=r(e.react)}("undefined"!=typeof self?self:this,(e=>(()=>{"use strict";var r={4429:(e,r,t)=>{t.d(r,{ay:()=>transformImage});function isRunningOnClient(){return"undefined"!=typeof window&&globalThis===window}const transformImage=(e,r,t)=>{Math.min(Math.max(Math.round(isRunningOnClient()&&window.devicePixelRatio||1),1),5);let i=e;if(r&&t){const a=`/${r}/`;i=e.replace(new RegExp(a),`/resize-w:${t}/`)}try{const e=new URL(i);return e.searchParams.append("dpr",1),e.toString()}catch(e){return i}}},9155:r=>{r.exports=e}},t={};function __webpack_require__(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=(e,r)=>{for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},__webpack_require__.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{__webpack_require__.r(i),__webpack_require__.d(i,{default:()=>o});var e=__webpack_require__(9155),r=__webpack_require__.n(e),t=__webpack_require__(4429);const a=["original","30x0","44x0","66x0","50x0","75x0","60x60","90x90","100x0","130x200","135x0","270x0","360x0","500x0","400x0","540x0","720x0","312x480","resize-(w|h)?:[0-9]+(,)?(w|h)*(:)?[0-9]*"];function searchStringInArray(e,r){for(let t=0;t<r.length;t++)if(e?.match(new RegExp(`/${r[t]}/`)))return r[t];return""}const n=(0,e.forwardRef)(((i,n)=>{let{backgroundColor:o="#ffffff",src:_="",placeholder:c="",alt:s="",isImageFill:p=!1,isFixedAspectRatio:l=!0,aspectRatio:u=1,mobileAspectRatio:f,showOverlay:d=!1,overlayColor:m="#ffffff",sources:b=[{breakpoint:{min:780},width:1280},{breakpoint:{min:600},width:1100},{breakpoint:{min:480},width:1200},{breakpoint:{min:361},width:900},{breakpoint:{max:360},width:640}],customClass:w,globalConfig:y,defer:g=!0,overlayCustomClass:x,onLoad:h=(()=>{})}=i;const[k,v]=(0,e.useState)(!1),$={"--aspect-ratio-desktop":`${u}`,"--aspect-ratio-mobile":`${f||u}`,"--bg-color":`${y?.img_container_bg||o}`,"--overlay-bgcolor":m},q=(0,e.useMemo)((()=>!_.match(/\.(svg|gif)$/i)),[_]),getMedia=e=>{if(e.breakpoint){const r=e.breakpoint.min&&`(min-width: ${e.breakpoint.min}px)`||"",t=e.breakpoint.max&&`(max-width: ${e.breakpoint.max}px)`||"";return r&&t?`${r} and ${t}`:r||t}return""},getUrl=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;k&&(r=c);const i=searchStringInArray(r,a);return i?(0,t.ay)(r,i,e):(0,t.ay)(r,void 0,void 0)};return r().createElement("div",{className:`fy-image__imageWrapper___wKmP2 ${p?"fy-image__fill___rFWVY":""}\n      ${l?"fy-image__fixedAspRatio___fyXGS":""} ${w}`,style:$},d&&r().createElement("div",{className:`fy-image__overlay___Dx1Ju ${x}`}),r().createElement("picture",null,(q?b?.map((e=>(e.media=getMedia(e),e.srcset=getUrl(e.width,e.url),e))):[]).map(((e,t)=>r().createElement("source",{key:t,media:e.media,srcSet:e.srcset,type:"image/webp"}))),r().createElement("img",{className:"fx-image fy-image__fyImg___yIv86",srcSet:(()=>{let e=_;if(!q)return"";k&&(e=c);const r=searchStringInArray(e,a);return b.reduce(((i,a)=>{let n=e;return r&&a?.width&&(n=(0,t.ay)(e,r,a.width),i.push(`${n} ${a.width}w`)),i}),[]).join(", ")})(),src:(()=>{if(!q)return _;searchStringInArray(_,a);return k?c:(0,t.ay)(_,void 0,void 0)})(),alt:s,onError:()=>{v(!0)},onLoad:h,loading:g?"lazy":"eager",fetchpriority:g?"low":"high",ref:n})))}));n.propTypes={};const o=n})(),i})()));